<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Unity Trust — Dashboard</title>

<script src="https://cdn.tailwindcss.com"></script>

<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        navy:'#0b1834',
        mid:'#071a38',
        deep:'#04122a',
        accentA:'#00BFFF',
        accentB:'#0077FF'
      }
    }
  }
}
</script>

<style>
.glass {
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  backdrop-filter: blur(10px);
}
.copy-btn {
  cursor: pointer;
}
</style>
</head>

<body class="bg-gradient-to-b from-navy via-mid to-deep text-slate-100 min-h-screen flex flex-col">

<!-- HEADER -->
<header class="flex justify-between items-center px-6 py-4 border-b border-white/10">
  <h1 class="text-xl font-bold">Unity Trust</h1>
  <div class="flex items-center gap-3">
    <span class="text-sm">Account Name, <strong><%= name %></strong></span>
    <img src="/logo.jpeg" class="h-8 w-8 rounded-full">
  </div>
</header>

<!-- MAIN CONTENT -->
<main class="flex-1 p-6 space-y-8">

  <!-- ACCOUNT CARDS -->
  <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6">
    <div class="glass p-5 rounded-xl">
      <p class="text-xs text-slate-400">Available Balance</p>
      <h3 class="text-2xl font-bold">$<%= deposit.toFixed(2) %></h3>
    </div>
    <div class="glass p-5 rounded-xl">
      <p class="text-xs text-slate-400">Crypto Balance</p>
      <h3 class="text-2xl font-bold">$<%= profit.toFixed(2) %></h3>
    </div>
    <div class="glass p-5 rounded-xl">
      <p class="text-xs text-slate-400">Account</p>
      <h3 class="text-xl font-bold">Savings ••••942</h3>
    </div>
    <div class="glass p-5 rounded-xl">
      <p class="text-xs text-slate-400">Status</p>
      <h3 class="text-xl font-bold text-emerald-400">Active</h3>
    </div>
  </div>

  <!-- FORMS -->
  <div class="grid grid-cols-1 xl:grid-cols-3 gap-6">

    <!-- Deposit Form -->
    <form class="xl:col-span-2 glass p-6 rounded-xl space-y-4">
      <h3 class="font-semibold text-lg">Deposit</h3>
      <input type="number" placeholder="Amount (USD)" class="w-full p-2 rounded-md bg-slate-800 border border-slate-700 text-slate-200" />

      <!-- Crypto Addresses -->
      <div class="space-y-2">
        <label class="text-sm text-slate-400">Select Crypto & Copy Address</label>
        <div class="flex flex-col sm:flex-row sm:gap-4">
          <div class="flex-1 glass p-3 rounded-md flex justify-between items-center">
            <span>BTC</span>
            <span id="btc-address" class="copy-btn text-xs text-accentA font-mono">bc1q4md3cgfq43zzje39g6vjwpfw8nzlrnupe2tmnt</span>
          </div>
          <div class="flex-1 glass p-3 rounded-md flex justify-between items-center">
            <span>ETH</span>
            <span id="eth-address" class="copy-btn text-xs text-accentA font-mono">0x2d436d2813b05E49BfdC62Dc28549ca034e80487</span>
          </div>
          <div class="flex-1 glass p-3 rounded-md flex justify-between items-center">
            <span>USDT</span>
            <span id="bnb-address" class="copy-btn text-xs text-accentA font-mono">0x2d436d2813b05E49BfdC62Dc28549ca034e80487</span>
          </div>
          <div class="flex-1 glass p-3 rounded-md flex justify-between items-center">
            <span>SOL</span>
            <span id="sol-address" class="copy-btn text-xs text-accentA font-mono">GKKQ7bQC8HRzTyDeQrgjHjJ925bJnkrMSa9xqJjzf6sk</span>
          </div>
        </div>
      </div>

      <button type="button" onclick="alert('Deposit submitted')" class="w-full bg-gradient-to-r from-accentA to-accentB text-black py-2 rounded font-bold">Submit</button>
      <p class="text-xs text-yellow-400">Pending admin approval</p>
    </form>

    <!-- Transfer Form -->
    <form class="glass p-6 rounded-xl space-y-4">
      <h3 class="font-semibold text-lg">Withdraw</h3>
      <input type="text" placeholder="Bank" class="w-full p-2 rounded-md bg-slate-800 border border-slate-700 text-slate-200" />
      <input type="number" placeholder="Amount (USD)" class="w-full p-2 rounded-md bg-slate-800 border border-slate-700 text-slate-200" />
    <input type="number" placeholder="Account Number" class="w-full p-2 rounded-md bg-slate-800 border border-slate-700 text-slate-200" />
      <button type="button" onclick="alert('Complete 2 transactions first')" class="w-full bg-gradient-to-r from-accentA to-accentB text-black py-2 rounded font-bold">Transfer</button>
    </form>

  </div>

  <!-- TRANSACTIONS -->
  <div class="glass p-6 rounded-xl overflow-x-auto">
    <h3 class="font-semibold mb-4">Transaction History</h3>
    <table class="min-w-[600px] w-full text-sm">
      <thead class="bg-accentA text-black">
        <tr>
          <th class="p-2">Type</th>
          <th class="p-2">Amount</th>
          <th class="p-2">Status</th>
          <th class="p-2">Date</th>
        </tr>
      </thead>
      <tbody>
        <% if(!transactions || transactions.length===0){ %>
        <tr>
          <td colspan="4" class="p-4 text-center text-slate-400">No transactions</td>
        </tr>
        <% } else { transactions.forEach(tx=>{ %>
        <tr class="border-b border-white/10">
          <td class="p-2"><%= tx.type %></td>
          <td class="p-2">$<%= tx.amount %></td>
          <td class="p-2 text-yellow-400">Pending</td>
          <td class="p-2"><%= new Date(tx.created_at).toLocaleString() %></td>
        </tr>
        <% }) } %>
      </tbody>
    </table>
  </div>

</main>

<footer class="text-center text-slate-400 py-6">©️ 2025 Unity Trust</footer>

<script>
// COPY ADDRESS FUNCTION
['btc','eth','bnb','sol'].forEach(id => {
  const el = document.getElementById(id+'-address');
  el.addEventListener('click', () => {
    navigator.clipboard.writeText(el.textContent).then(() => {
      alert(id.toUpperCase() + ' address copied!');
    });
  });
});
</script>
</body>
</html>
